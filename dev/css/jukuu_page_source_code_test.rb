# encoding: utf-8
html = <<-HTML
<html>
<HEAD>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="keywords" content="免费在线翻译,例句搜索">
<meta name="description" content="句酷搜索引擎为英语学习者提供免费在线词典,在线翻译,例句搜索(study native English)">
<title>'豆浆'的翻译、'豆浆'的解释、双语例句、在线造句 - 句酷中英双语例句</title>
<LINK href="css/main.css" type="text/css" rel="stylesheet">
<link rel="shortcut icon" href="images/logo.ico" />
<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript" src="js/thickbox.js"></script>
<script type="text/javascript" src="js/viewpy.js"></script>
<link rel="stylesheet" href="css/thickbox.css" type="text/css" media="screen" >
<link rel="stylesheet" href="css/suggest1.css" type="text/css" media="screen">
<script type="text/javascript" src="js/suggest.js"></script>
</HEAD>
<body>
<div onClick="hideSuggestions();">
<form id="Frm1" style="MARGIN: 0px" action="search.php" method="get">
<table width="930" align="center">
<tr>
<td width="170"><FONT face="宋体"><A href="index.php"><img src="images/search.gif" border="0"></A></FONT></td>
<TD width="*">
<table height="100%" width="710" border="0">
<tr>
<td align="right">
</td>
</tr>
<tr valign=top>
<td valign="middle">
<input onmouseover="this.focus()" onfocus="this.select()" autocomplete="off" size=40  name="q" type="text" class="input1" id="q" maxlength="100" style="width:280px;" value="豆浆" onKeyUp="handleKeyUp(event);"/>&nbsp;
<!-- <input type="submit" value="句酷一下" id="ButtonSearch" class="input2" />&nbsp;<span style="position:relative; left:10px; top:10px"><a href="/help/002.htm"><u>帮助</u></a><a href="/help/02.htm" target="_blank" style="color:red"><u>招聘英语教师和语料库研究员</u></a> -->
<input type="submit" value="句酷一下" id="ButtonSearch" class="input2" />&nbsp;<span style="position:relative; left:10px; top:10px"><a href="/help/002.htm"><u>帮助</u></a><a href="/worddetail/more" target="_blank" style="color:red"><u>单词辨析</u></a>

<span class="conn"><a href="login.php">登录</a>|<a href="reg.php">注册</a></span>
</form>
</td>
<td>
</tr>
</table>
<div class="index_suggest_div">
<div  id="scroll3">
<div id="scroll">
<div id="suggest"></div>
</div>
</div>
</div>
</TD>
</tr>
</table><TABLE id="Table2" cellSpacing="0" cellPadding="0" width="930" align="center" bgColor="#ffffff">
<TR id="TR1" align="center" bgColor="#D9E1F7" runat="server">
<TD width="100" bgColor="#D9E1F7">&nbsp;&nbsp;&nbsp;</TD>
<TD class="head" style="font-size:12px;COLOR: #000000" align="right" > <div>找到相关的双语例句27条</div></TD>
</TR>
</TABLE>
<!-- sentence search-->
<TABLE id="Table1" style="Z-INDEX: 101" cellSpacing="1" cellPadding="1" width="930" align="center" border="0">
<tr>
<td width="16%" style="padding-top:10px; padding-bottom:10px" valign=top>

<!--table width="600" style=" border:1px solid #EFF2FC; background-color:#F5F5F5">

<span style="padding:3,3,3,3; font-size:12px ">

</span>
</table-->
<a href="../jukuu2010/jukuu.php?q=豆浆&type=bisent" target="_blank"><img src="./images/TiYan_jukuu2010.jpg" width="650" height="50" border="0" /></a>
<br>
<table width="680">
<tr class=e><td vAlign=top>1. </td><td> They find milk, eggs, bread and cookies, chocolate, soup, vegetables, even frozen pizzas and soymilk. </td></tr>
<tr class=c><td></td><td> 他们能找到牛奶、鸡蛋、面包、甜点、巧克力、浓缩汤、蔬菜，甚至冰冻比萨和<b>豆浆</b>。 </td></tr>
<tr class=s>
<td></td>
<td><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr>
<td width="75%"> -- 来源 -- 汉英 - 翻译参考 </td>
<td id='rmd_108775779'><a href='javascript:void(0)' onclick='RmdSent(108775779)'><u>好评(1)</u></a></td>
<td id='report_108775779'><a href='javascript:void()' onclick='ReportSent(108775779)'><u>差评(1)</u></a></td>
<td width="3%">&nbsp;</td>
</tr>
</table></td></tr>
<tr><td>&nbsp;</td><td></td></tr>
<tr class=e><td vAlign=top>2. </td><td> Having had his breakfast at a bean-milk shop, he made off for work. </td></tr>
<tr class=c><td></td><td> 他在一家<b>豆浆</b>店吃过早饭，就急忙上班去了。 </td></tr>
<tr class=s>
<td></td>
<td><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr>
<td width="75%"> -- 来源 -- 英汉 - 短句参考 </td>
<td id='rmd_207173313'><a href='javascript:void(0)' onclick='RmdSent(207173313)'><u>好评(0)</u></a></td>
<td id='report_207173313'><a href='javascript:void()' onclick='ReportSent(207173313)'><u>差评(0)</u></a></td>
<td width="3%">&nbsp;</td>
</tr>
</table></td></tr>
<tr><td>&nbsp;</td><td></td></tr>
<tr class=e><td vAlign=top>3. </td><td> "You may not like drinking soy bean milk at first, But it will grow on you." </td></tr>
<tr class=c><td></td><td> "你可能刚开始时会不喜欢喝<b>豆浆</b>,但你会渐渐习惯。" </td></tr>
<tr class=s>
<td></td>
<td><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr>
<td width="75%"> -- 来源 -- 英汉 - 翻译样例 - 学习 </td>
<td id='rmd_501367823'><a href='javascript:void(0)' onclick='RmdSent(501367823)'><u>好评(0)</u></a></td>
<td id='report_501367823'><a href='javascript:void()' onclick='ReportSent(501367823)'><u>差评(0)</u></a></td>
<td width="3%">&nbsp;</td>
</tr>
</table></td></tr>
<tr><td>&nbsp;</td><td></td></tr>
<tr class=e><td vAlign=top>4. </td><td> Sometimes we have milk or soybean milk. </td></tr>
<tr class=c><td></td><td> 有时我们喝牛奶或<b>豆浆</b>。 </td></tr>
<tr class=s>
<td></td>
<td><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr>
<td width="75%"> -- 来源 -- 魔法英语-口语突破（高中） - Unit 8 Everyday Meals </td>
<td id='rmd_301174069'><a href='javascript:void(0)' onclick='RmdSent(301174069)'><u>好评(0)</u></a></td>
<td id='report_301174069'><a href='javascript:void()' onclick='ReportSent(301174069)'><u>差评(0)</u></a></td>
<td width="3%">&nbsp;</td>
</tr>
</table></td></tr>
<tr><td>&nbsp;</td><td></td></tr>
<tr class=e><td vAlign=top>5. </td><td> "Soybean meal serves as a high-protein meat substitute in many food products, including Baby foods. Other food products include soybean milk, tofu, salad sprouts, and soy sauce. "<a href='thread-501385368.html' target='_blank'><img src='images/detail.jpg' border=0 style='position:relative; top:7px;'></a> </td></tr>
<tr class=c><td></td><td> 豆粉是代替肉类的高蛋白食物,可制作多种食品,包括婴儿食品。其它豆制食品则有<b>豆浆</b>、豆腐、豆芽沙拉和酱油。 </td></tr>
<tr class=s>
<td></td>
<td><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr>
<td width="75%"> -- 来源 -- 英汉 - 翻译样例 - 行业 </td>
<td id='rmd_501385368'><a href='javascript:void(0)' onclick='RmdSent(501385368)'><u>好评(0)</u></a></td>
<td id='report_501385368'><a href='javascript:void()' onclick='ReportSent(501385368)'><u>差评(0)</u></a></td>
<td width="3%">&nbsp;</td>
</tr>
</table></td></tr>
<tr><td>&nbsp;</td><td></td></tr>
<tr class=e><td vAlign=top>6. </td><td> They raised the baby on soya-bean milk. </td></tr>
<tr class=c><td></td><td> 他们用<b>豆浆</b>把这孩子喂养大了。 </td></tr>
<tr class=s>
<td></td>
<td><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr>
<td width="75%"> -- 来源 -- 英汉 - 短句参考 </td>
<td id='rmd_207086404'><a href='javascript:void(0)' onclick='RmdSent(207086404)'><u>好评(0)</u></a></td>
<td id='report_207086404'><a href='javascript:void()' onclick='ReportSent(207086404)'><u>差评(0)</u></a></td>
<td width="3%">&nbsp;</td>
</tr>
</table></td></tr>
<tr><td>&nbsp;</td><td></td></tr>
<tr class=e><td vAlign=top>7. </td><td> They're drinking soybean milk! </td></tr>
<tr class=c><td></td><td> 他们正在喝<b>豆浆</b>！ </td></tr>
<tr class=s>
<td></td>
<td><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr>
<td width="75%"> -- 来源 -- 小学英语(四年级上学期适用)(2004年6月版;2004年8月 - MODULE 4 In the Park Unit 1 What are they doing? </td>
<td id='rmd_301119125'><a href='javascript:void(0)' onclick='RmdSent(301119125)'><u>好评(0)</u></a></td>
<td id='report_301119125'><a href='javascript:void()' onclick='ReportSent(301119125)'><u>差评(0)</u></a></td>
<td width="3%">&nbsp;</td>
</tr>
</table></td></tr>
<tr><td>&nbsp;</td><td></td></tr>
<tr class=e><td vAlign=top>8. </td><td> "It is made from dried soybeans that are soaked in water, crushed, and Boiled to produce a solid pulp and liquid soy "milk."Coagulants are then added to the milk to separate the curds from the whey."<a href='thread-501385739.html' target='_blank'><img src='images/detail.jpg' border=0 style='position:relative; top:7px;'></a> </td></tr>
<tr class=c><td></td><td> 制作时先将干大豆泡水后磨碎,将所得混合物煮沸,使其分为豆渣与<b>豆浆</b>,再将凝固剂加入<b>豆浆</b>,使凝乳与乳清分离。 </td></tr>
<tr class=s>
<td></td>
<td><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr>
<td width="75%"> -- 来源 -- 英汉 - 翻译样例 - 行业 </td>
<td id='rmd_501385739'><a href='javascript:void(0)' onclick='RmdSent(501385739)'><u>好评(0)</u></a></td>
<td id='report_501385739'><a href='javascript:void()' onclick='ReportSent(501385739)'><u>差评(0)</u></a></td>
<td width="3%">&nbsp;</td>
</tr>
</table></td></tr>
<tr><td>&nbsp;</td><td></td></tr>
<tr class=e><td vAlign=top>9. </td><td> The baby was raised on soya-bean milk. </td></tr>
<tr class=c><td></td><td> 这孩子是用<b>豆浆</b>喂养大的。 </td></tr>
<tr class=s>
<td></td>
<td><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr>
<td width="75%"> -- 来源 -- 英汉 - 辞典例句 </td>
<td id='rmd_107226756'><a href='javascript:void(0)' onclick='RmdSent(107226756)'><u>好评(0)</u></a></td>
<td id='report_107226756'><a href='javascript:void()' onclick='ReportSent(107226756)'><u>差评(0)</u></a></td>
<td width="3%">&nbsp;</td>
</tr>
</table></td></tr>
<tr><td>&nbsp;</td><td></td></tr>
<tr class=e><td vAlign=top>10. </td><td> They raised the baby on soybean milk. </td></tr>
<tr class=c><td></td><td> 他们用<b>豆浆</b>把这个孩子喂养大了。 </td></tr>
<tr class=s>
<td></td>
<td><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr>
<td width="75%"> -- 来源 -- 英汉 - 辞典例句 </td>
<td id='rmd_107300776'><a href='javascript:void(0)' onclick='RmdSent(107300776)'><u>好评(0)</u></a></td>
<td id='report_107300776'><a href='javascript:void()' onclick='ReportSent(107300776)'><u>差评(1)</u></a></td>
<td width="3%">&nbsp;</td>
</tr>
</table></td></tr>
<tr><td>&nbsp;</td><td></td></tr>
</table></td>
<TD width="70%" valign="top"  style="width: 100%; padding-top:10px">
<table width="230" border="0" align="center" cellpadding="0" cellspacing="0" style="border:1px solid #EFF2FC; margin-bottom:10px" >
  <tr>
    <td colspan="3" class="xtitle">英汉词典</td>
  </tr>
  <tr>
    <td width="3%" rowspan="2" >&nbsp;</td>
    <td width="95%" bgcolor="#FFFFFF" class="xtd"><table width="100%" border="0" cellspacing="0" cellpadding="0">
        <div style='white-space:normal; width:180px; letter-spacing:1px; color:olive'><tr><td><b>豆浆</b>: </td></tr><tr><td style='font-size:12px;padding-top:10px'></td></tr><tr><td style='font-size:12px'>n. <a href='show-豆浆+bean milk-0.html'><font color=olive><u>bean milk</u></font> </a><br></td></tr></div>
    </table>
        <td width="3%"  height="3%">&nbsp;</td>
  <tr>
    <td colspan="3" height="4"></td>
  </tr>
</table>
<table width="230" border="0" align="center" cellpadding="0" cellspacing="0" style="border:1px solid #EFF2FC; margin-bottom:10px" >
  <tr>
    <td colspan="3" class="xtitle">释义分布</td>
  </tr>
  <tr>
    <td width="3%" rowspan="2" >&nbsp;</td>
    <td width="95%" bgcolor="#FFFFFF" class="xtd"><table width="100%" border="0" cellspacing="0" cellpadding="0">
        <tr><td><div style='white-space:normal; width:180px; letter-spacing:1px; color:olive'><img src='http://chart.apis.google.com/chart?cht=p&chd=t:100&chs=200x120&chl=bean%20milk'/></div></td></tr>
    </table>
        <td width="3%"  height="3%">&nbsp;</td>
  <tr>
    <td colspan="3" height="4"></td>
  </tr>
</table>
<table width="230" border="0" align="center" cellpadding="0" cellspacing="0" style="border:1px solid #EFF2FC; margin-bottom:10px" >
  <tr>
    <td colspan="3" class="xtitle">前面的常见动词</td>
  </tr>
  <tr>
    <td width="3%" rowspan="2" >&nbsp;</td>
    <td width="95%" bgcolor="#FFFFFF" class="xtd"><table width="100%" border="0" cellspacing="0" cellpadding="0">
        <tr><td><div style='white-space:normal; width:180px; letter-spacing:1px; color:olive'><a href='show-冰冻+豆浆-0.html'><span style='color:olive'><u>冰冻</u></span></a> <a href='show-分为+豆浆-0.html'><span style='color:olive'><u>分为</u></span></a> <a href='show-加入+豆浆-0.html'><span style='color:olive'><u>加入</u></span></a> </div></td></tr>
    </table>
        <td width="3%"  height="3%">&nbsp;</td>
  <tr>
    <td colspan="3" height="4"></td>
  </tr>
</table>
<!--a href='submit.php'><img border=0 src="images/liju.gif"></a-->
<br>
</TD>
</table>
</TR>
</table><p align='center'>
&nbsp;&nbsp;<span><font color=#000000>1</font></span>&nbsp;&nbsp;<a href='show-%E8%B1%86%E6%B5%86-1.html'>[2]</a><a href='show-%E8%B1%86%E6%B5%86-2.html'>[3]</a><a href='show-%E8%B1%86%E6%B5%86-1.html'>下一页</a>
</p>
<div class="div1">
  <form name="form1" method="get" action="search.php">
  <table cellspacing='0' cellpadding='0' class='ftable'>
  <tr>
  <td width='200'>&nbsp;</td>
  <td width='288'><input name="q" type="text" class="input1" value= "豆浆" style="width:280px;top:0px">&nbsp;&nbsp</td>
  <td width='80'><input name="" type="submit" class="input2" value="句酷一下" style="top:0px"></td>
  <td width='68'><a href="/quality_form.html">与句酷对话</a></td>
  <td>&nbsp;</td>
  </tr>
  </table>
    </form>
</div><br/>
<p align=center><FONT size=2><A style="FONT-FAMILY: arial,sans-serif" 
href="help/001.htm" target="_blank">使用帮助</A>&nbsp;-&nbsp;<A 
href="http://www.jukuu.com/more.htm" target="_blank">句酷大全</A>&nbsp;-&nbsp;<A 
href="http://www.jukuu.com/mianze.htm" target="_blank">免责声明</A>&nbsp;-&nbsp;<A 
href="http://www.jukuu.com/hezuo.htm" target="_blank">合作联盟</A></FONT></p>
<script language="javascript" type="text/javascript" src="http://js.users.51.la/2320338.js"></script>
<noscript><a href="http://www.51.la/?2320338" target="_blank"><img alt="&#x6211;&#x8981;&#x5566;&#x514D;&#x8D39;&#x7EDF;&#x8BA1;" src="http://img.users.51.la/2320338.asp" style="border:none" /></a></noscript>
</body>
</html>
HTML

require 'nokogiri'
class Array
  # Input:  [1,2,3,4,5]
  # Output: [[1, 2], [2, 3], [3, 4], [4, 5]]
  def overlap_pairs
    second = self.dup.drop(1)
    self.each_with_index.inject([]) {|acc,(item,i)|
      acc << [item,second[i]]  unless second[i].nil?
      acc
    }
  end
end

require 'nokogiri'
source = :jukuu
parent_selector = "table#Table1 table[width = '680']"
cn_selector     = "//tr[@class='c']"
en_class        = "e"
en_selector     = "//tr[@class='#{en_class}']"
select_pair     = lambda {|node_1,node_2| node_1['class'] == en_class and node_2['class'] != en_class }
main_node       = Nokogiri::HTML(html).css(parent_selector) # Returns a single node

# CSS selector:   Returns the tags in the order they are specified
# XPath selector: Return the tags in the order they appear in the document (that's what we want here).
# Source:         http://stackoverflow.com/questions/5825136/nokogiri-and-finding-element-by-name/5845985#5845985
target_nodes = main_node.search("#{cn_selector} | #{en_selector}").to_a # Nokogiri::XML::NodeSet => array

# Only match text that also has a translation, and vice versa.
sentence_pairs = target_nodes.overlap_pairs.select {|(node_1,node_2)| select_pair.call(node_1,node_2) }
sentence_pairs = sentence_pairs.map {|(node1,node2)| [node2,node1] }
sentence_pairs = sentence_pairs.map do |(cn_node,en_node)|
  cn = cn_node.css('td[2]').text.strip
en = en_node
if source == :jukuu
  en = en.css('td[2]').text.strip
else
  en = en.text.strip
end
[cn,en]
end

p sentence_pairs
p "Number of sentence pairs: #{sentence_pairs.size}."
